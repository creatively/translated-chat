<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Chat App</title>
  <script>
    const roomName = "<%= roomName %>"
  </script>
  <script defer src="http://localhost:3000/socket.io/socket.io.js"></script>
  <script defer src="script.js"></script>
  <style>
    body {
      font-family: 'Trebuchet MS';
      padding: 0;
      margin: 0;
    }

    .visuallyhidden {
      border: 0;
      clip: rect(0 0 0 0);
      height: 1px;
      margin: -1px;
      overflow: hidden;
      padding: 0;
      position: absolute;
      white-space: nowrap;
      width: 1px;
    }

    /* ------ Messages Area ----- */

    #message-container {
      padding: 0px 10px;
      font-family: 'Bradley Hand';
      font-size: 24px;
    }

      #message-container div {
        padding: 5px;
      }



    /* ---------------------------------------------- */

.modal-background {
  position: fixed;
  top: 0;
  left: 0;
  z-index:2;
  background-color: black;
  opacity: 0.5;
  width:100%;
  height:100%;
}

    .card {
      margin: 10px auto;
      text-align: center;
      padding: 30px 40px;
      margin-top: 60px;
      margin-bottom: 60px;
      border: none;
      box-shadow: 0 12px 12px 0 rgba(0, 0, 0, 1);
      background-color: white;
      border-radius: 6px;
      max-width: 350px;
      z-index: 3;
      text-align: center;
    }

      .blue-text {
          color: #00BCD4
      }

      .form-control-label {
          margin-bottom: 0
      }

      input,
      select, 
      button {  
          padding: 8px 15px;
          border-radius: 5px;
          margin: 5px 0px 10px 0px;    
          border: 1px solid #000;
          box-shadow: rgba(0, 0, 0, 0.08) 2px 2px 2px 2px;
          font-size: 18px;  
          font-weight: 300;
      }

      button,
      select {
        width: 220px;
      }

      button {
        margin-top: 10px;
        background-color: green;
        color: white;
        cursor: pointer;
      }


  /* Message typing block */

  #send-container {
    position: fixed;
    padding:5px 20px;
    bottom: 0;
    background-color: white;
    width: 100%;
  }

  #message-input {
    width: calc(100% - 190px);
    margin-right:10px;
    min-width: 220px;
    max-width: 1100px;
  }

  #message-input:focus {
    border-color: black;
  }

  #send-button {
    width: 100px;
  }


  </style>
</head>
<body>

  <!-- LIST OF MESSAGES -->
  <div id="message-container">

  </div>

  <!-- MODAL FOR NAME AND LANGUAGE -->
  <div class="modal-background">
    <div class="card">
        <h3 class="text-center mb-4 visuallyhidden">Please provide your name and language</h3>
        <form class="name-and-language-form">

          <label for="input-name">your name</label><br>
          <input
            id="input-name"
            type="text"
            name="name"
            aria-label="your name" 
            required
          /><br>

          <label for="select-language">your language</label><br>
          <select id="select-language" name="language">
            <option value="en" label="English" selected>English</option>
            <option value="sw" label="Swahili">Swahili</option>
            <option value="es" label="Spanish">Spanish</option>
            <option value="cy" label="Welsh">Welsh</option>
            <option value="mg" label="Malagasy">Malagasy</option>
            <option value="fr" label="French">French</option>
            <option value="hi" label="Hindi">Hindi</option>
          </select>

          <div class="row justify-content-end">
              <div class="form-group col-sm-6">
                <button type="submit" class="btn-block btn-primary">Start Chat!</button>
              </div>
          </div>

      </form>
    </div>
  </div>


  <!-- MESSAGE ENTERING BOX -->
  <form id="send-container">
    <input type="text" id="message-input">
    <button type="submit" id="send-button">Send</button>
  </form>

  <script>
    document.getElementById('select-language').value = navigator.language.substring(0,3);
  </script>

</body>
</html>